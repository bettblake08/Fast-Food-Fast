!function(t){var e={};function s(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/assets/",s(s.s=45)}({0:function(t,e,s){"use strict";s.d(e,"b",function(){return n}),s.d(e,"a",function(){return a});const n="https://fast-food-fast-bb.herokuapp.com",a=`${n}/api/v1`},1:function(t,e,s){"use strict";e.a=class{constructor(t){this._state={status:t.status},this._props=t;let e=document.createElement("button");e.setAttribute("type","button"),e.classList.add(t.textClass),e.classList.add(this.getButtonClass(t.class,t.status)),e.innerHTML=t.label,e.addEventListener("click",t.action),this._component={main:e}}get state(){return this._state}set state(t){this._state=t}get component(){return this._component}set component(t){this._component=t}get props(){return this._props}set props(t){this._props=t}getButton(){return this.component.main}init(){let t=this.props.parent.state;t.buttons.push(this),this.props.parent.state=t}setStatus(t,e=3e3){let s=this.state,n=this.component,a=this.props,r=this,o=this.getButtonClass(a.class,s.status),i=this.getButtonClass(a.class,t);n.main.classList.replace(o,i),1==t||2==t?setTimeout(()=>{let e=this.getButtonClass(a.class,t),o=this.getButtonClass(a.class,a.status);n.main.classList.replace(e,o),s.status=a.status,r.state=s},e):(s.status=t,r.state=s)}getButtonClass(t,e){switch(e){case 0:return`${t}`;case 1:case 5:return`${t}--fail`;case 2:case 6:return`${t}--success`;case 3:return`${t}--loading`;case 4:return`${t}--warning`}}}},45:function(t,e,s){t.exports=s(46)},46:function(t,e,s){"use strict";s.r(e),s.d(e,"LoginForm",function(){return u});var n=s(0),a=s(5),r=s.n(a),o=s(1),i=s(7);class u{constructor(){this._state={errorMsg:"",buttons:[],textInputs:[]}}get state(){return this._state}set state(t){this._state=t}init(){let t=document.querySelector(".login__save"),e=document.querySelector(".login__logo"),s=document.querySelectorAll(".login__text"),n=new o.a({class:"btn_1",textClass:"f_button_1",label:"Sign In",parent:l,status:0,action:()=>{this.loginAuth()}});n.init(),t.appendChild(n.getButton());let a=new Image;a.src=r.a,a.alt="FastFoodFast logo",e.appendChild(a);let u=new i.a({parent:this,name:"username",label:"Username",placeholder:"Eg. JesseC7",class:"text_input",textClass:"f_input_1",type:"text",status:0,test:t=>0==t.length?{status:!1,message:"Username field empty."}:t.length>30?{status:!1,message:"Username too long. Please input a username less than 30 characters."}:{status:!0}}),c=new i.a({parent:this,name:"password",label:"Password",placeholder:"Password",class:"text_input",textClass:"f_input_1",type:"password",status:0,test:t=>{if(0==t.length)return{status:!1,message:"Password field empty."};return/^((?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$#.!])).{8,16}$/.test(t)?{status:!0}:{status:!1,message:"Password is incorrect.Please input a password with 1 upper case, 1 lower case, 1 digit and 1 special character including [@$#.!] ."}}});u.init(),c.init(),s[0].appendChild(u.getInput()),s[1].appendChild(c.getInput())}displayError(t=3e3){console.log("Displaying error: "+this.state.errorMsg);let e=this.state,s=document.querySelector(".login__error");s.classList.replace("errorComment--disabled","errorComment--active"),s.innerHTML=e.errorMsg,setTimeout(()=>{s.classList.replace("errorComment--active","errorComment--disabled"),s.innerHTML=""},t),e.errorMsg="",this.state=e}loginAuth(){console.log("Login authentication started");const t=this.state;let e=t.textInputs.find(t=>2!=t.state.status);void 0==e?fetch(`${n.a}/auth/login`,{body:JSON.stringify({password:t.textInputs[1].getInputValue(),username:t.textInputs[0].getInputValue()}),headers:{"Content-Type":"application/json"},method:"POST"}).then(e=>{switch(e.status){case 200:return e.json();case 400:case 401:case 404:e.json().then(e=>{t.errorMsg=e.message,this.state=t,this.displayError()})}}).then(t=>{console.log("Login Successful!"),localStorage.setItem("tokens",JSON.stringify({access_token:t.access_token,refresh_token:t.refresh_token})),window.location.href=n.b+"/admin/orderManagement"}):e.focus()}}let l=new u;document.addEventListener("DOMContentLoaded",()=>{l.init()})},5:function(t,e,s){t.exports=s.p+"4d13aad5b435a3e7bd5832e9199db4a5.png"},7:function(t,e,s){"use strict";e.a=class{constructor(t){this._state={inputValue:"",status:void 0==t.status?0:t.status,test:void 0==t.test?()=>!0:t.test},this._component={},this._props=t,this._parent=t.parent;const e=document.createElement("div"),s=document.createElement("input"),n=document.createElement("label"),a=document.createElement("div"),r=document.createElement("div");r.classList.add("errorComment--disabled"),r.classList.add(`${t.class}__error`),r.classList.add("f_comment_1"),a.classList.add(`${t.class}__comment--active`),a.classList.add("f_comment_1"),a.innerHTML=void 0==t.comment?"":t.comment,n.setAttribute("htmlFor",t.name),n.innerHTML=t.label,s.setAttribute("type",t.type),s.setAttribute("id",t.name),s.setAttribute("placeholder",t.placeholder),s.classList.add(t.textClass),s.addEventListener("focusout",()=>{this.testInput()}),e.classList.add("has-float-label"),e.classList.add(t.textClass),e.classList.add(this.getInputClass(t.class,t.status)),e.appendChild(s),e.appendChild(n),e.appendChild(a),e.appendChild(r),this._component={main:e,textInput:s,textInputLabel:n,textInputComment:a,textInputErrorComment:r}}get state(){return this._state}set state(t){this._state=t}get component(){return this._component}set component(t){this._component=t}get props(){return this._props}set props(t){this._props=t}init(){let t=this.props,e=t.parent.state;e.textInputs.push(this),t.parent.state=e,this.props=t}testInput(){let t=this.state.test(this.component.textInput.value);return t.status?(this.updateInputStatus(2),this.closeErrorDisplay()):(this.setErrorMessage(t.message),this.displayError(5e3),this.updateInputStatus(1)),t.status}setErrorMessage(t){let e=this.state;e.errorMsg=t,this.state=e}displayError(t=3e3){console.log("Displaying error: "+this.state.errorMsg);let e=this.component,s=this.state,n=e.textInputErrorComment,a=this;n.classList.replace("errorComment--disabled","errorComment--active"),n.innerHTML=s.errorMsg,setTimeout(()=>{a.closeErrorDisplay(),a.setErrorMessage("")},t)}closeErrorDisplay(){let t=this.component.textInputErrorComment;t.classList.contains("errorComment--active")&&(t.classList.replace("errorComment--active","errorComment--disabled"),t.innerHTML="")}updateInputStatus(t){let e=this.component.main,s=this.state;e.classList.replace(this.getInputClass(this.props.class,this.state.status),this.getInputClass(this.props.class,t)),s.status=t,this.state=s}getInputClass(t,e){switch(e){case 0:return`${t}--normal`;case 1:return`${t}--fail`;case 2:return`${t}--success`;case 3:return`${t}--loading`;case 4:return`${t}--warning`}}getInput(){return this.component.main}focus(){this.component.textInput.focus()}getInputValue(){return this.component.textInput.value}}}});