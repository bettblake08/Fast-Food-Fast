!function(t){var e={};function s(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/assets/",s(s.s=51)}({0:function(t,e,s){"use strict";s.d(e,"b",function(){return a}),s.d(e,"a",function(){return n});const a="http://localhost:5000",n=`${a}/api/v1`},1:function(t,e,s){"use strict";e.a=class{constructor(t){this._state={status:t.status},this._props=t;let e=document.createElement("button");e.setAttribute("type","button"),e.classList.add(t.textClass),e.classList.add(this.getButtonClass(t.class,t.status)),e.innerHTML=t.label,e.addEventListener("click",t.action),this._component={main:e}}get state(){return this._state}set state(t){this._state=t}get component(){return this._component}set component(t){this._component=t}get props(){return this._props}set props(t){this._props=t}getButton(){return this.component.main}init(){let t=this.props.parent.state;t.buttons.push(this),this.props.parent.state=t}setStatus(t,e=3e3){let s=this.state,a=this.component,n=this.props,r=this,i=this.getButtonClass(n.class,s.status),o=this.getButtonClass(n.class,t);a.main.classList.replace(i,o),1==t||2==t?setTimeout(()=>{let e=this.getButtonClass(n.class,t),i=this.getButtonClass(n.class,n.status);a.main.classList.replace(e,i),s.status=n.status,r.state=s},e):(s.status=t,r.state=s)}getButtonClass(t,e){switch(e){case 0:return`${t}`;case 1:case 5:return`${t}--fail`;case 2:case 6:return`${t}--success`;case 3:return`${t}--loading`;case 4:return`${t}--warning`}}}},5:function(t,e,s){t.exports=s.p+"4d13aad5b435a3e7bd5832e9199db4a5.png"},51:function(t,e,s){t.exports=s(52)},52:function(t,e,s){"use strict";s.r(e),s.d(e,"SignUpForm",function(){return u});var a=s(0),n=s(1),r=s(7),i=s(5),o=s.n(i);class u{constructor(){this._state={buttons:[],textInputs:[]}}get state(){return this._state}set state(t){this._state=t}init(){let t=document.querySelector(".signUp__save"),e=document.querySelectorAll(".signUp__text"),s=this,a=new n.a({class:"btn_1",textClass:"f_button_1",label:"Sign Up",parent:this,status:0,action:()=>{s.signUp()}});a.init(),t.appendChild(a.getButton());let i=new r.a({parent:this,name:"username",label:"Username",placeholder:"Eg. JesseC7",class:"text_input",textClass:"f_input_1",type:"text",status:0,test:t=>0==t.length?{status:!1,message:"Username field is empty."}:t.length>30?{status:!1,message:"Username too long. Please input a username less than 30 characters."}:{status:!0}}),o=new r.a({parent:this,name:"email",label:"Email Address",placeholder:"Eg. jessec7@yahoo.com",class:"text_input",textClass:"f_input_1",type:"text",status:0,test:t=>{if(0==t.length)return{status:!1,message:"Email field is empty."};if(t.length>30)return{status:!1,message:"Email address is too long. Please input an email address less than 30 characters."};return/^([a-zA-Z0-9]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]{2,5})$/.test(t)?{status:!0}:{status:!1,message:"Invalid email. Please input a valid email address."}}}),u=new r.a({parent:this,name:"password",label:"Password",placeholder:"Includes 1 uppercase, 1 lowercase, 1 digit and 1 special character [].",class:"text_input",textClass:"f_input_1",type:"password",status:0,test:t=>{if(0==t.length)return{status:!1,message:"Password field is empty."};return/^((?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$#.!])).{8,16}$/.test(t)?{status:!0}:{status:!1,message:"Password is incorrect.Please input a password with 1 upper case, 1 lower case, 1 digit and 1 special character including [@$#.!] ."}}}),l=new r.a({parent:this,name:"repass",label:"Re-enter Password",placeholder:"Includes 1 uppercase, 1 lowercase, 1 digit and 1 special character [].",class:"text_input",textClass:"f_input_1",type:"password",status:0,test:t=>{if(0==t.length)return{status:!1,message:"Password field is empty."};return/^((?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$#.!])).{8,16}$/.test(t)?t!=u.getInputValue()?{status:!1,message:"Passwords do not match."}:{status:!0}:{status:!1,message:"Password is incorrect.Please input a password with 1 upper case, 1 lower case, 1 digit and 1 special character including [@$#.!] ."}}});i.init(),o.init(),u.init(),l.init(),e[0].appendChild(i.getInput()),e[1].appendChild(o.getInput()),e[2].appendChild(u.getInput()),e[3].appendChild(l.getInput())}displayError(t=3e3){console.log("Displaying error: "+this.state.errorMsg);let e=this.state;const s=document.querySelector(".signUp__error");s.classList.replace("errorComment--disabled","errorComment--active"),s.innerHTML=e.errorMsg,setTimeout(()=>{s.classList.replace("errorComment--active","errorComment--disabled"),s.innerHTML=""},t),e.errorMsg="",this.state=e}displaySuccess(){let t=this.state;document.querySelector(".signUp__success").classList.replace("successComment--disabled","successComment--active"),setTimeout(()=>{window.location.href=`${a.b}/customer/login`},3e3),t.errorMsg="",this.state=t}signUp(){console.log("Login authentication started!");let t=this,e=this.state,s=this.state.textInputs,n=this.state.buttons,r=s.find(t=>2!=t.state.status);if(void 0==r){if(s[2].getInputValue()!=s[3].getInputValue())return s[2].updateInputStatus(1),s[3].updateInputStatus(1),s[3].setErrorMessage("Passwords do not match!"),s[3].displayError(5e3),void s[2].focus();n[0].setStatus(3),fetch(`${a.a}/auth/signup`,{body:JSON.stringify({username:s[0].getInputValue(),email:s[1].getInputValue(),password:s[2].getInputValue(),role:"customer"}),headers:{"Content-Type":"application/json"},method:"POST"}).then(s=>{switch(s.status){case 201:return s.json();case 400:case 401:case 403:case 404:s.json().then(s=>{e.errorMsg=s.message,t.state=e,t.displayError(),n[0].setStatus(1,5e3)})}}).then(e=>{void 0!=e&&(console.log("Sign up Successful!"),n[0].setStatus(2,5e3),t.displaySuccess())})}else r.focus()}}let l=new u;document.addEventListener("DOMContentLoaded",()=>{l.init(),document.querySelector(".header__logo img").src=o.a})},7:function(t,e,s){"use strict";e.a=class{constructor(t){this._state={inputValue:"",status:void 0==t.status?0:t.status,test:void 0==t.test?()=>!0:t.test},this._component={},this._props=t,this._parent=t.parent;const e=document.createElement("div"),s=document.createElement("input"),a=document.createElement("label"),n=document.createElement("div"),r=document.createElement("div");r.classList.add("errorComment--disabled"),r.classList.add(`${t.class}__error`),r.classList.add("f_comment_1"),n.classList.add(`${t.class}__comment--active`),n.classList.add("f_comment_1"),n.innerHTML=void 0==t.comment?"":t.comment,a.setAttribute("htmlFor",t.name),a.innerHTML=t.label,s.setAttribute("type",t.type),s.setAttribute("id",t.name),s.setAttribute("placeholder",t.placeholder),s.classList.add(t.textClass),s.addEventListener("focusout",()=>{this.testInput()}),e.classList.add("has-float-label"),e.classList.add(t.textClass),e.classList.add(this.getInputClass(t.class,t.status)),e.appendChild(s),e.appendChild(a),e.appendChild(n),e.appendChild(r),this._component={main:e,textInput:s,textInputLabel:a,textInputComment:n,textInputErrorComment:r}}get state(){return this._state}set state(t){this._state=t}get component(){return this._component}set component(t){this._component=t}get props(){return this._props}set props(t){this._props=t}init(){let t=this.props,e=t.parent.state;e.textInputs.push(this),t.parent.state=e,this.props=t}testInput(){let t=this.state.test(this.component.textInput.value);return t.status?(this.updateInputStatus(2),this.closeErrorDisplay()):(this.setErrorMessage(t.message),this.displayError(5e3),this.updateInputStatus(1)),t.status}setErrorMessage(t){let e=this.state;e.errorMsg=t,this.state=e}displayError(t=3e3){console.log("Displaying error: "+this.state.errorMsg);let e=this.component,s=this.state,a=e.textInputErrorComment,n=this;a.classList.replace("errorComment--disabled","errorComment--active"),a.innerHTML=s.errorMsg,setTimeout(()=>{n.closeErrorDisplay(),n.setErrorMessage("")},t)}closeErrorDisplay(){let t=this.component.textInputErrorComment;t.classList.contains("errorComment--active")&&(t.classList.replace("errorComment--active","errorComment--disabled"),t.innerHTML="")}updateInputStatus(t){let e=this.component.main,s=this.state;e.classList.replace(this.getInputClass(this.props.class,this.state.status),this.getInputClass(this.props.class,t)),s.status=t,this.state=s}getInputClass(t,e){switch(e){case 0:return`${t}--normal`;case 1:return`${t}--fail`;case 2:return`${t}--success`;case 3:return`${t}--loading`;case 4:return`${t}--warning`}}getInput(){return this.component.main}focus(){this.component.textInput.focus()}getInputValue(){return this.component.textInput.value}}}});